# 2020-02-20

## Naver Cafe

### 카페북 XSS
![](2020-02-21&#32;07-46-58.png)

공격해볼 만한 부분을 찾다가 확인해보고 싶어서 입력이 가능한 곳에 특수문자와 페이로드를 입력해봤다.

![](2020-02-21&#32;07-58-58.png)
![](2020-02-21&#32;07-59-32.png)
![](2020-02-21&#32;07-59-47.png)

![](2020-02-21&#32;08-06-01.png)

카페북 메인에서는 제목, 소개, 목차를 볼 수 있다. 하지만 XSS는 발생하지 않는다. 적용된 소스 코드를 보니 HTML 엔티티로 변환되었을 뿐만 아니라 HTML 인코딩된 문자들도 볼 수 있었다.

![](2020-02-21&#32;08-11-40.png)
![](2020-02-21&#32;08-12-09.png)
![](2020-02-21&#32;08-12-30.png)

목차를 누르면 제목, 본문, 댓글을 볼 수 있다. 역시 필터링이 되기 때문에 XSS는 발생하지 않는다.

![](2020-02-21&#32;08-56-51.png)

본문의 소스 코드를 보면 태그나 특수문자들이 그저 텍스트로 처리되는지 그대로 적용된다.

## NAVER Blog

### 안부게시판 XSS
`htmlspecialchars` 함수를 우회하는 방법을 찾다가 base64 인코딩하는 방법을 보고 태그가 적용되는 블로그의 안부게시판에서 테스트를 해봤다. `img` 태그는 입력이 가능하기 때문에 `src` 속성이나 `style` 속성에 아래와 같은 구문을 입력하여 우회를 시도했다.

```
data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTs8L3NjcmlwdD4=
```

![](2020-02-21&#32;09-14-31.png)

원래 `src` 속성은 필터링되지 않았는데 입력값에 따라서도 필터링되는 것을 확인할 수 있었다. `style` 속성을 공략할 수 있지 않을까해서 아래와 같은 구문을 입력해보기로 했다.

```html
<IMG STYLE="xss:expr/*XSS*/ession(alert('XSS'))">
```

![](2020-02-21&#32;09-24-16.png)

`style` 속성도 입력값에 따라 필터링이 적용되는 것으로 보인다.